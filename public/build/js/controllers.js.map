{"version":3,"sources":["UserController.js","LoginController.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"controllers.js","sourcesContent":["app.controller('UserController',\n    function($scope, $http, API_URL){\n        var vm = this;\n\n        vm.user = {\n            name: '',\n            email: '' ,\n            password: ''\n        };\n        vm.userlist = {};\n        vm.error = {\n            isError: false,\n            status: '',\n            msg : ''\n        };\n        vm.actions = {\n            getUserList: function(){\n                $htp.get(API_URL + \"user\")\n                    .success(function(response){\n                       vm.userlist = response;\n                    });\n            },\n            save: function(modalstate, id){\n                var url = API_URL + 'user';\n                if(modalstate === 'edit'){\n                    url += \"/\" + id;\n                }\n                $http({\n                    method: 'POST',\n                    url: url,\n                    data: $.param(vm.user),\n                    headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n                }).success(function(response) {\n                      if(response.status){\n                          vm.error.isError = false; //no error\n                          vm.error.status = response.status;\n                      }else{\n                          vm.error.isError = true;\n                          vm.error.status = response.status;\n                      }\n                    vm.error.msg = response.message;\n                }).error(function(response) {\n                    console.log(response);\n                    alert('This is embarassing. An error has occured. Please check the log for details');\n                });\n            },\n            showMessage: function(msg){\n\n            }\n        }\n\n        $http.get(API_URL + \"user\")\n            .success(function(response){\n                $scope.user = response;\n            });\n\n        //show modal form\n        $scope.toggle = function(modalstate, id){\n            $scope.modalstate = modalstate;\n            switch (modalstate) {\n                case 'add':\n                    $scope.form_title = \"Add New User\";\n                    break;\n                case 'edit':\n                    $scope.form_title = \"User Detail\";\n                    $scope.id = id;\n                    $http.get(API_URL + 'user/' + id)\n                        .success(function(response) {\n                            console.log(response);\n                            $scope.user = response;\n                        });\n                    break;\n                default:\n                    break;\n            }\n            console.log(id);\n            $('#myModal').modal('show');\n        }\n\n        //save new record / update existing record\n        $scope.save = function(modalstate, id) {\n            var url = API_URL + \"user\";\n\n            //append user id to the URL if the form is in edit mode\n            if (modalstate === 'edit'){\n                url += \"/\" + id;\n            }\n\n            $http({\n                method: 'POST',\n                url: url,\n                data: $scope.user,\n                headers: {'Content-Type': 'application/x-www-form-urlencoded'}\n            }).success(function(response) {\n                console.log(response);\n                location.reload();\n            }).error(function(response) {\n                console.log(response);\n                alert('This is embarassing. An error has occured. Please check the log for details');\n            });\n        }\n\n        //delete record\n        $scope.confirmDelete = function(id) {\n            var isConfirmDelete = confirm('Are you sure you want this record?');\n            if (isConfirmDelete) {\n                $http({\n                    method: 'DELETE',\n                    url: API_URL + 'user/' + id\n                }).\n                    success(function(data) {\n                        console.log(data);\n                        location.reload();\n                    }).\n                    error(function(data) {\n                        console.log(data);\n                        alert('Unable to delete');\n                    });\n            } else {\n                return false;\n            }\n        }\n})","app.controller('LoginController',\n    function($scope, $http, LoginServices, HOSTNAME){\n        var vm = this;\n\n        vm.user = {\n            email : '',\n            password: '',\n        };\n        vm.actions ={\n\n            save: function(){\n                LoginServices\n                    /*.login($.param(vm.user))*/\n                    .login(vm.user)\n                    .success(function(response){\n                        console.log(response);\n                    });\n                /*var url = HOSTNAME + 'users/login';\n                $http({\n                    method: \"POST\",\n                    url: url,\n                    data: $.param(vm.user),\n                    headers : {'Content-Type': 'application/x-www-form-urlencoded' },\n                }).success(function(response){\n                    console.log(response);\n                })*/\n            }\n        }\n    });"],"sourceRoot":"/source/"}